# 一、课程感想
- **前言**

写点什么好呢，想写的太多，却又无从下笔，动笔此刻夹杂着惭愧，感恩，不甘和些许自信，索性选了几个关键词，想到哪里写到哪里吧。

这几天每天晚上都会看看毕业项目的issue，截止2021.2.6日22:10，一共提交了121篇，有点遗憾，对于1000人的班级来说，提交率只有15%。但又有点无耻的庆幸，大部分的人在作业上和我一样，掉队了，掉的不好意思提交毕业项目了。

我相信真实情况有很多和我一样的人，群里也不活跃，作业也做的不好，却又因这个课程，开了点窍，心怀感恩，明白了怎么样才是一个优秀的技术人，眼界已打开，剩下的就看自己的努力了。

这个文章就当是30岁的我给自己立的一个flag吧。

- **谈谈巨婴般的普通研究生**

想想上一次这么努力，应该要追溯到考研了，5个月时间，起早贪黑，到最后一个月的鼻血狂流，想想还有点怀念。

大学生涯，玩了一年多DNF，某天突然觉得不能这样，努力学习，想想算是死记硬背吧，从年级后30%考到年级前五，拿了国奖，非常尴尬大三这年才知道有保研，最终综合三年成绩保研也差了几名，依旧计算机这条路上一窍不通。

研究生，这个阶段应该是最黄金的时间，却又不求甚解，不思进取，找工作也算顺利，在最该开窍的时间自闭了。

研究生毕业那年26岁，自闭的后遗症延续了两年，度过工作初期的欣喜，做着大公司里细分的工作内容，写几个接口/页面，内心极度的焦虑和不安，彻夜难眠般的想要逃离。跳槽之后，算是一家有些背景的初创公司，揠苗式的从开发，到小团队管理，到业务系统设计，在有限的技术栈上半睡着，所幸整体上还是每天进步一点。

突然某一天，发现自己已经三十岁了，卧槽，三十了，三十岁的秦老师已然站在了互联网人的顶端，比我小的猫大人也已然达到了我也许一辈子都触摸不到的高度，比我小几岁的梦码小组成员的学习能力也让我叹服。

真的很惭愧！

观左右，这应该也算是一批普通毕业生的新路历程吧，三十了，混口说的过去的饭吃还可以，内心和技术上却依旧像个巨婴。

- **谈谈三十五岁和内卷**

这两年在公司几个逐步上升的岗位，做的还不错，这两年的绩效考核也是最好，也算是前20%了吧，这也许就是秦老师所说的，大部分不努力，稍微努力一点，你就比大部分人优秀了吧。

这一年，更多的是业务分析，分工扯皮，加之部门调整，派系内耗，基本无技术氛围。动荡之余，半封闭了自己，反省自身，明显感觉到自己的技术根基不稳，代码量太少，无深入技术领域，知识体系也没有建立。

如此下去，混饭有余，三十五岁依旧是个坎，依旧会卷到自己。今年也有了坚定的跳槽想法，但这一次不再是逃避，而是选择。

- **影响最大的第二位老师**

第一位老师是高中数学老师兼班主任，让我持续对数学充满兴趣和正反馈，也帮助我高考分数堪堪过一本线十分的情况下，选到了一个很好的大学，感恩。

作为1/1000，也从不活跃，秦老师肯定不记得我的名字，却是对我影响最大的第二位老师，给得过且过，害怕困难的我，物质一点说指出了一条年薪50w+/100w+的路，为什么不去做呢？剩下的就看自己的努力和情商了，感恩。

- **源码小组**

参加源码小组的收获远比想象中的大，不在于技术，而在于心气和信息。

在此之前，能不能坚持下来我也不知道，今天正好梦码2期结束，虽然文章整体比较浅，但是也算是坚持下来了。公司安全管控比较严格无法上外网+996工作时间+周日上下午的早教课，每天到家基本10点多，给孩子涮涮奶瓶，收拾收拾，洗个澡，基本上就11:30了,开始写soul，大部分的文章都是凌晨一两点写的。

中间有个特别神奇的时间点，第二周结束那个周日(应该是大群分享那次)，从那天过后，无论多晚，丝毫不会再担心自己会放弃，因为自然而然，相信一定会写，哪怕很浅很少。

每天进步一点点

- **鸡汤大师**

秦老师的课基本上反复的听了两轮，"随时保持离开的能力","fake it,make it","技术至深则通"，这类貌似已经深入骨髓，偶尔表达一下，已被称为鸡汤大师。

依旧还是有很多装睡的人。

恩，秦老师这碗鸡汤很浓。

- **谈谈三大心魔**

19年迷茫之际，看了几十本哲学、历史、管理的书，其中影响最大的是王阳明的心学四句教，每当该不该做/怎么做的时候就去背一遍，
> 无善无恶心之体<br>
> 有善有恶意之动<br>
> 知善知恶是良知<br>
> 为善去恶是格物<br>

格物先格己，三大心魔，一为害怕困难，不恒；二为英语太渣，不耻；三为不愿开口，不信。

- **三十岁这一年，重读大学**

三十岁这一年，开了点窍，这两年就当重读一遍遗憾的大学吧，也许有变化，但做不到就悄悄的潜去，做一条咸鱼吧。

2021年上半年
1. 秦老师Java知识系列+作业 
2. leetcode 300题+反复刷
3. 网络、linux系统知识若干
4. 实践基于soul的单机版网关简化项目j-soul，基于apollo配置中心的简化项目j-conf，基于一个springboot+Vue的简化oa系统j-oa
5. 英语
6. 100篇技术文章总结

2021年下半年
1. spring + mysql数据库知识深入
2. 英语
3. 学习shardingsphere的源码，分布式事务学习
4. 20次技术总结和分享

2022年上半年
1. spring + mysql数据库知识深入
2. 英语
3. 分布式项目实践
4. go语言学习
5. 20次技术总结和分享

2022年下半年
1. 英语雅思/托福考试
2. 选择一个深思熟虑的领域，深入下去
3. 30次技术总结和分享

- **分享与圈子**

乐于分享

正如秦老师一样，细品一下，这个是百利而无一害的事情，为什么不做呢。

圈子的重要性

今年两个事情感触很深，一个是近期面试一家公司，早上请假面试，下午现在公司部门领导就找我谈话，那家公司的一个头头是领导的前同事，找他打听情况，有点尴尬，瞬间感觉圈子太小了。

一个是今年作为一面面试官，面试了五六十个人，但凡之前领导关注过的，有同事/同学介绍的，都会对面试有很大影响，听了秦老师的加课，察觉出了圈子的重要性。

# 二、毕业项目

说一说这两年和几个部分打的交道吧，项目/面试/学习中的一些内容。

1. **JVM(一些修改实践)**

公司这两年业务野蛮增长，现有60+的微服务，导致后期各个微服务内存总和超标，常规集成系统，大长稳环境内存使用40G+，需要进行瘦身。
JVM配置参数和dockerfile配置大部分都采用的一套模板，默认2G内存
- 对业务按内存使用/计算复杂度/数据量等进行分类，分配500M，1G，4G+三档，大部分都是简单的增删改查业务，使用500M内存，最后整体降至20-25G内存使用。
- docker部署，在dockerfile里统一添加-XX:+ExitOnOutOfMemoryError(让JVM自动退出)，之前一直假死状态，防止k8s无法重启。
- dockerfile文件里添加java -XX:+HeapDumpOnOutOfMemoryError，-XX：HeapDumpPath参数(之前一半服务没加)。
- 有个别微服务内存分配1G但是使用G1垃圾回收器，修改为并行垃圾回收器。
- 通过top，jmap，jstack，排查出低配版服务zeromq消费者死循环，导致cpu利用率近乎100%等问题。

2. **NIO(为什么使用netty不用java nio)**

Java 1.4起，jdk支持了NIO(NEW IO)，因NIO(os nonblocking)的非阻塞式工作方式，让应用服务器可以极大的优化线程模型，相比传统的阻塞式IO线程和链路一对一的模式，NIO只需少量的线程即可处理所有的链路，基于NIO能开发出更高效的网络应用。

然而使用JDK原生的api开发NIO，编程模型非常复杂，开发者需要理解Selector、Channel、ByteBuffer三大组件，此外JDK原生NIO实现上还存在一些稳定性问题。

netty把三大组件交互代码封装在框架内部，有效简化了编程模型让使用者能够更高效开发出NIO网络应用，保障了系统的稳定性。

soul网关基于Spring WebFlux（底层Netty），这块需要后面研究一下。

3. **并发编程(一个面试题)**

一个近期的面试题，你在处理kafka大数据量业务的时候，是起的线程还是线程池，如何选择线程池里线程的个数？

答：线程池，固定线程池，回答是按soul网关里，最低16, 最高2*内核数+1，进行初始化的。

4. **Spring 和 ORM 等框架**

5. **MySQL 数据库和 SQL**

6. **分库分表**

7. **RPC 和微服务**

8. **分布式缓存**

最多暴雷的中间件，多个局点redis节点宕机。
- 主要的优化是对滥用redis把redis当jvm使用的进行改造
- 对于直接存储Object使用map
- 对于key值和value进行限制
- 过期策略的限制

最终redis使用量缩减至原来的20%，后期redis升级，还调整过持久化策略。

9. **分布式消息队列(一些实践)**

公司最早暴雷的中间件，一度达到2w+的连接数。
- 主要的优化是对于topic的合并，分业务分类型进行合并
- 此外还有连接数的限制/监听者的处理逻辑优化等
- 个别数据敏感的业务，本地自动提交的偏移量由默认500改为100

# 三、学习笔记

事情还没做到，总觉得说这些很难启齿。

这些知识，需要用三个月甚至半年更久去消化，逐步补充至完善，如果哪天觉得消化的7788，会把感想邮件于秦老师。

1. [JVM核心技术(一)-基础知识](https://blog.csdn.net/bo_book/category_10540775.html)
2. [JVM核心技术(二)-工具与GC策略]
3. [JVM核心技术(三)-调优分析与面试经验]
4. [NIO模型与Netty入门](https://github.com/xiaoboji/JAVA-000/blob/main/Week_02/note/NIO模型与Netty入门.png)
5. [Netty原理与API网关](https://github.com/xiaoboji/j-notes/blob/main/Java/Java-000/05-Netty原理与API网关.md)
6. [Java并发编程(一)](https://github.com/xiaoboji/j-notes/blob/main/Java/Java-000/06-Java并发编程.md)
7. [Java并发编程(二)]
8. [Java并发编程(三)]
9. [Java相关框架(一)-Spring基础]
10. [Java相关框架(二)-SpringBoot/Hibernate/Mybatis]
11. [Java相关框架(三)-Java8/Lombok/Guava/编程规范/设计模式/单元测试等]
12. [性能与SQL优化(一)-Mysql配置/原理/设计优化]
13. [性能与SQL优化(二)-事务与锁/SQL优化]
14. [超越分库分表-高可用与读写分离-集群配置/主从复制/读写分离/高可用]
15. [数据库拆分与分库分表-常见的框架和中间件]
16. [分布式事务]
17. [RPC与分布式服务化]
18. [Dubbo技术详解]
19. [深入分布式服务化]
20. [Spring Cloud与微服务架构]
21. [分布式缓存-缓存技术](https://github.com/xiaoboji/JAVA-000/blob/main/Week_11/note/DistributedCache.png)
22. [分布式缓存-Redis详解](https://github.com/xiaoboji/JAVA-000/blob/main/Week_11/note/Redis.png)
23. [Redis高可用/Redisson/Hazelcast]
24. [消息队列基础](https://github.com/xiaoboji/JAVA-000/blob/main/Week_13/note/mq.png)
25. [Kafka消息中间件](https://github.com/xiaoboji/JAVA-000/blob/main/Week_13/note/kafka.png)
26. [其他MQ介绍与动手写MQ]
27. [高并发系统架构设计]
28. [如何设计一个秒杀系统]
29. [一个真实的重构案例]
30. [架构师修炼之道]

# 四、作业链接
